<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>多处理机系统</title>
    <link rel="Stylesheet" type="text/css" href="./css/style.css" />
    <link rel="stylesheet" type="text/css" href="./google-code-prettify/prettify.css" >
    <!-- add more style sheets and javascripts -->
</head>
<body>
<!--<body onload="prettyPrint()">-->

<div class="content">

<div id="多处理机系统"><h1 id="多处理机系统" class="header"><a href="#多处理机系统">多处理机系统</a></h1></div>
<div id="多处理机系统-多处理机"><h2 id="多处理机" class="header"><a href="#多处理机系统-多处理机">多处理机</a></h2></div>
<div id="多处理机系统-多处理机-共享存储器多处理机 multiprocess"><h3 id="共享存储器多处理机 multiprocess" class="header"><a href="#多处理机系统-多处理机-共享存储器多处理机 multiprocess">共享存储器多处理机 multiprocess</a></h3></div>
<p>
两个或更多的CPU全部共享访问一个公用的RAM
</p>

<div id="多处理机系统-多处理机-UMA多处理机：Uniform Memory Access 统一存储器访问"><h3 id="UMA多处理机：Uniform Memory Access 统一存储器访问" class="header"><a href="#多处理机系统-多处理机-UMA多处理机：Uniform Memory Access 统一存储器访问">UMA多处理机：Uniform Memory Access 统一存储器访问</a></h3></div>
<p>
读出每个存储器字的速度是一样快的
</p>
<div id="多处理机系统-多处理机-UMA多处理机：Uniform Memory Access 统一存储器访问-基于总线的UMA多处理机体系结构"><h4 id="基于总线的UMA多处理机体系结构" class="header"><a href="#多处理机系统-多处理机-UMA多处理机：Uniform Memory Access 统一存储器访问-基于总线的UMA多处理机体系结构">基于总线的UMA多处理机体系结构</a></h4></div>
<p>
基于单总线的多处理机，使用同一个总线通信，当cpu有几十个时，严重受到总线带宽的限制。
解决方案：为每个CPU添加一个高速缓存cache，许多读操作可以从高速缓存上得到满足，总线流量大大减少。
</p>

<div id="多处理机系统-多处理机-UMA多处理机：Uniform Memory Access 统一存储器访问-高速缓存一致性协议"><h4 id="高速缓存一致性协议" class="header"><a href="#多处理机系统-多处理机-UMA多处理机：Uniform Memory Access 统一存储器访问-高速缓存一致性协议">高速缓存一致性协议</a></h4></div>
<p>
每一个高速缓存块被标记为只读（可同时存在于多个cache中）或标记为读写（不能在其他高速缓存中存在）
如果cpu试图在一个或多个远程高速缓存中写入一个字，总线硬件检测到写，并把一个信号放到总线上通知所有其他的高速缓存。如果其他高速缓存有个“干净“的副本，也就是同存储器内容完全一样的副本，那么它们可以丢弃该副本并让写者在修改之前从存储器取出高速缓存块。如果某些其他高速缓存有”脏“副本，它必须在处理写之前把数据写回存储器或者把它通过总线直接传送到写者上。
</p>

<div id="多处理机系统-多处理机-UMA多处理机：Uniform Memory Access 统一存储器访问-使用交叉开关的UMA多处理机"><h4 id="使用交叉开关的UMA多处理机" class="header"><a href="#多处理机系统-多处理机-UMA多处理机：Uniform Memory Access 统一存储器访问-使用交叉开关的UMA多处理机">使用交叉开关的UMA多处理机</a></h4></div>
<p>
<img src="images/multicpu1.png" />
</p>

<div id="多处理机系统-多处理机-UMA多处理机：Uniform Memory Access 统一存储器访问-使用多级交换的UMA处理机"><h4 id="使用多级交换的UMA处理机" class="header"><a href="#多处理机系统-多处理机-UMA多处理机：Uniform Memory Access 统一存储器访问-使用多级交换的UMA处理机">使用多级交换的UMA处理机</a></h4></div>
<p>
<img src="images/multicpu2.png" />
</p>
<div id="多处理机系统-多处理机-NUMA多处理机：No Uniform Memory Access 非一致存储器访问"><h3 id="NUMA多处理机：No Uniform Memory Access 非一致存储器访问" class="header"><a href="#多处理机系统-多处理机-NUMA多处理机：No Uniform Memory Access 非一致存储器访问">NUMA多处理机：No Uniform Memory Access 非一致存储器访问</a></h3></div>

<div id="多处理机系统-多处理机-多核芯片"><h3 id="多核芯片" class="header"><a href="#多处理机系统-多处理机-多核芯片">多核芯片</a></h3></div>
<p>
CPU可能共享高速缓存或者不共享，但都共享内存
</p>
<div id="多处理机系统-多处理机-多核芯片-窥探"><h4 id="窥探" class="header"><a href="#多处理机系统-多处理机-多核芯片-窥探">窥探</a></h4></div>
<p>
特殊的硬件电路可以确保在一个字同时出现在两个或者多个的高速缓存中的情况下，当其中某个CPU修改了该字，所有其他高速缓存中的该字都会被自动的并且原子性的删除来确保一致性
</p>

</div>

<hr class="comment">
<section class="comment">
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'lotaboutvimwiki'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>
    <script src="./js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
        $('pre').addClass('prettyprint linenums') 
        prettyPrint()})
    </script>
    <script src="./google-code-prettify/prettify.js"></script>

    <!--script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML-full"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML-full&latest"></script>
</body>
</html>
